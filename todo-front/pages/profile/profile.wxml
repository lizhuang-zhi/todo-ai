<!-- profile.wxml -->
<view class="profile-container">
  <!-- 用户信息区 -->
  <view class="user-info">
    <view class="avatar-wrapper">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" />
    </view>
    <view class="user-detail">
      <view class="username">{{userInfo.nickName || '李白'}}</view>
      <view class="user-level">
        <image class="level-icon" src="/images/level-icon.png" />
        <text>{{levelTitle}}</text>
        <view class="more" bind:tap="onTapMore">更多</view>
      </view>
    </view>
  </view>

  <!-- 历史会话 -->
  <view class="history-section">
    <view class="history-title">会话记录</view>
    <view class="history-container">
      <view wx:for="{{7}}" class="conversation_box">
        <view class="title_box">
          <view class="left_icon">
            <image class="im_icon" src="/images/im.png" />
          </view>
          <view class="right_tit">
            <view class="im_title">新对话</view>
            <view class="im_last_cont">我从水电费水电水电费水电费费说分手地方...</view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 数据统计区 -->
  <view class="stats-container">
    <view class="stats-item">
      <view class="stats-icon">
        <image src="/images/task-icon.png" />
      </view>
      <view class="stats-content">
        <view class="stats-num">{{taskCount}}</view>
        <view class="stats-label">累计完成任务</view>
      </view>
    </view>
    <view class="stats-item">
      <view class="stats-icon history_finish_icon">
        <image src="/images/rate-icon.png" />
      </view>
      <view class="stats-content">
        <view class="stats-num">{{completionRate}}%</view>
        <view class="stats-label">历史完成率</view>
      </view>
    </view>
  </view>

  <!-- 报告区域 -->
  <view class="report-section">
    <view class="section-title">报告</view>
    <view class="charts-container">
      <view class="chart-item">
        <ec-canvas id="barChart" canvas-id="bar" />
      </view>
      <view class="chart-item">
        <ec-canvas id="lineChart" canvas-id="line" />
      </view>
    </view>
  </view>
</view>